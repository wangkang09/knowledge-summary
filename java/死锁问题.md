[TOC]

# 死锁问题

## 产生死锁的原因

* 有多个线程在进行资源获取的情况下，互相持有了对方的资源，存在了一个资源--进程的环形链

## 产生死锁的必要条件

* 互斥条件：一个资源任何时间是能被一个线程所持有
* 请求和保持条件：当线程请求其他资源时，先不释放以获得的资源，直到请求资源成功，才释放已获得的资源
* 不剥夺条件：进程已获得的资源在未使用完之前，不能被其他线程剥夺，只能在使用完时由自己释放
* 循环等待条件：在发生死锁时，必然存在一个循环等待链表

## 死锁解决方法

* 资源一次性分配：破坏请求保持条件
* 如果有3个资源和3个线程能造成死锁，那么这3个资源同一个时刻最多只能被其中的两个线程访问，这样就避免了循环等待链表