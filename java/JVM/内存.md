## 内存

### 虚拟地址空间

cpu在读取某个地址时，其地址只是一个虚拟地址，由MMU设备将虚拟地址转换成实际的物理内存地址后，在进行读取操作

**优点：**

* **进程间相互隔离**：有了虚拟地址，不同进程的虚拟地址，可以映射到不同得物理地址，相互之间无干扰如果没有虚拟地址，每个进程直接对物理内存进行操作，势必会存在各个进程相互影响而无法正常进行。

* **方便内存共享**：不同进程的虚拟地址也可以映射到相同的物理地址以实现内存共享，比如每个操作系统的进程，都会需要跟内核程序打交道。有了内存共享，多个进程间就可以共用内核程序，而不需要为每一个进程在物理内存里加载一份内核程序。再比如动态链接库，也是通过共享内存实现物理内存中只加载一份的
* **简化编译时的链接**：



**物理内存是虚拟地址空间内存的高速缓存**：在我们使用虚拟地址空间时，如果没有对应的物理内存，就会出现我们常见的缓存不命中的情况。专业术语叫缺页异常。这时内核的缺页异常处理程序，将会帮助我们分配物理内存，如果物理内存不足，它将会选择一个物理内存页作为牺牲，写回磁盘上，这也就是我们所说的交换分区

到这里我们可以看出，我们进程中所使用的内存大小，与真正占用物理内存大小，没有绝对的相等关系。进程申请的内存还没有被使用时，会出现物理内存小于进程内存的情况；进程内存对应的物理内存被写回到交换分区时，也会出现进程内存大于实际物理内存的情况。

**转自：**https://www.cnblogs.com/qingquanzi/p/8916240.html